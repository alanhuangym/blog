---
title: 推荐系统1
date: 2017-08-21 14:56:01
tags:
- recommendationsystem
catergories:
- recommendationsystem
---



### 目前大部分舆论：

目前，大多数的资料（知乎等）显示，工业界和学术界的鸿沟还是比较大的，工业界通常使用

**精细的特征工程+简单可行的模型+各种Trick+CF协同过滤**

即可以实现比较好的效果。

其中，大部分人认为其中重要性是：

**用户交互界面UI > 数据 > 算法**

<font color = "red">所以我们是否需要进行UI的调研？（淘宝、其他公司的同类产品等?）</font>

<font color = "red">其次，我们的推荐页面是已什么形式展现给客户？</font>

是直接在目前的基础上，进行排序展示？（推荐的产品在最前面）

现有的第三方库：**Java-mahout, Python-Crab**

特征工程分为：静态特征、行为特征、Item特征、上下文特征

特镇工程操作有：转换、切分、叠加、离散化、组合

大数据不一定有效，提高维度则有一定的帮助，数据量太大可以随机从原始数据中采样。

### USER表

对于USER，我们设计了一个表去存储用户的信息。

信息来源暂定是用户自己填写的信息、问卷调查获得的风险偏好和从身份证号所获取的信息（出生地、年龄、性别等）。

开户日期指的是用户已经在网站注册的时长。

<font color ="red">金额方面，暂时还需要解决，是什么金额？</font>

| 字段     | 类型                |
| ------ | ----------------- |
| userid | VARCHAR2(20 BYTE) |
| 金额     | NUMBER            |
| 风险偏好   | VARCHAR2(20 BYTE) |
| 已购产品   | VARCHAR2(20 BYTE) |
| 年龄     | NUMBER            |
| 性别     | VARCHAR2(20 BYTE) |
| 职业     | VARCHAR2(20 BYTE) |
| 电话     | VARCHAR2(20 BYTE) |
| 出生地    | VARCHAR2(20 BYTE) |
| 邮箱     | VARCHAR2(20 BYTE) |
| 开户日期   | VARCHAR2(20 BYTE) |

### ITEM表

对于ITEM，我们同样将它存储在数据库中。

这个数据来源我们可以从自身获取。

| 字段     | 类型                |
| ------ | ----------------- |
| itemid | VARCHAR2(20 BYTE) |
| 风险     | VARCHAR2(20 BYTE) |
| 起购额    | NUMBER            |
| 产品类型   | VARCHAR2(20 BYTE) |

两个表中，有**关联的是风险和风险偏好，起购额和金额**。因为这两个字段的数值是硬性要求，起到了一个Filter的作用。

### 可能添加的字段（增加维度，提高准度）

| 字段                | 解释                                       |
| ----------------- | ---------------------------------------- |
| 用户行为-退款行为         | 用户是否发生退款行为，退款产品为                         |
| 用户行为-投诉行为         | 用户是否对某款产品进行过投诉                           |
| 用户-是否有亲戚好友购买过相关产品 | 对于熟人推荐的会比较信任（但是亲戚好友的信息比较难获取，推荐码？）        |
| 产品-描述             | 对描述进行NLP，得出一个向量                          |
| 产品-投资经理           | 对于不同的投资经理，会有不同的喜好（例如已经购买的产品的同一位投资经理，但是要确定是否前一款产品是否亏损） |
| 产品-目前盈亏           | 目前产品的盈亏情况，是否会推荐亏损的产品给客户                  |
| 产品-行业归属           | 投资详情                                     |
| 产品-开始销售日期         | 长期稳定的产品会让客户偏喜爱                           |
| 网页动作              | 是否能捕捉到用户的网页动作？（例如在某一个产品页面逗留很久，多次点击同一款产品的详情） |





### 相关论文

[Amazon CF](http://www.cin.ufpe.br/~idal/rs/Amazon-Recommendations.pdf)

基础的推荐算法有：

**1.传统的协同过滤**

其中，分为寻找相似的用户和相似的产品。

计算相似度的基本都是使用向量之间的cos距离

推荐相似用户购买的产品或者推荐相似产品的产品

**2.Cluster Models**

将用户分类成几个类，然后对新来的用户同样进行分类，然后推荐同一个分类用户的购买的产品信息

其中分类的算法可以有：KNN, LogisticRegression, NeuralNetwork, DecesionTree, K-Means

**3.Search-Based Methods**

将item进行细分，划分出目录、类别、作者等信息，然后推荐相关目录、相关作者的其他作品等。

**4.亚马逊Item-to-item 协同过滤**

基于庞大的用户数量和商品数量，一个一个算相似度计算量非常庞大，同时不能满足业务要求的0.5秒内给用户推荐信息的要求，所以亚马逊按照传统的协同过滤进行优化，只计算购买过某一产品的用户们的购买记录中商品的相似度，然后推荐相似度最高的产品。

[matrix factorization](https://datajobs.com/data-science-repo/Recommender-Systems-%5BNetflix%5D.pdf)





### 想法：

### 1.直接将已购产品当做Training data

是否可以直接将客户已经购买的产品记录当做training data放进神经网络

然后把产品当成ont-hot型的向量输出（或者把金额当成输出）

### 2.将用户分类

将用户分成某几类用户，然后进来一个用户则根据模型，将该用户分配到不同的组里面。

然后推荐系统将推荐组内用户最常购买的产品。

### 3.将产品分类

由于产品比较少，所以是否直接人工分类？

或者根据投资经理（用户是否有投资经理偏好）进行分类？





### 目前难题：

1.冷启动？（完全新用户进入，没有任何数据，是否能找出新用户最多购买的产品）（例如注册时间小于30天的用户，购买最多的产品是？）

2.推荐系统的目标是？推荐用户最喜爱的产品，最有可能购买的产品？还是将冷门的产品推销出去？

3.是否要将客户引导到高风险的产品上去？